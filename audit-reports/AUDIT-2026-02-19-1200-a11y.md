# Accessibility Audit Report â€” DocVault

**Date:** 2026-02-19T12:00  
**Scope:** `src/` (35 files)  
**Standard:** WCAG 2.1 AA  
**Auditor:** Accessibility (A11y) Auditor

---

## Perceivable

### 1.1 â€” Text Alternatives

#### HIGH-01: Icon-only buttons missing `aria-label`

Nine icon-only `<Button size="icon">` instances render an SVG with `aria-hidden="true"` (lucide-react default) inside a button that has no accessible name. Screen readers announce these as unlabelled buttons.

| # | File | Line(s) | Icon | Purpose |
|---|------|---------|------|---------|
| 1 | `src/app/documents/[documentId]/page.tsx` | 56-59 | `ArrowLeft` | Navigate back to team |
| 2 | `src/app/teams/[teamId]/page.tsx` | 151-155 | `ArrowLeft` | Navigate back to dashboard |
| 3 | `src/app/teams/[teamId]/page.tsx` | 221-229 | `X` | Remove selected file |
| 4 | `src/app/teams/[teamId]/page.tsx` | 294-298 | `Settings` | Open team settings |
| 5 | `src/app/teams/[teamId]/settings/page.tsx` | 92-96 | `ArrowLeft` | Navigate back to team |
| 6 | `src/components/document-table.tsx` | 187-192 | `MoreHorizontal` | Open document actions menu |
| 7 | `src/components/member-manager.tsx` | 261-269 | `Trash2` | Remove team member |
| 8 | `src/components/member-manager.tsx` | 324-331 | `X` | Cancel pending invite |
| 9 | `src/components/upload-dialog.tsx` | 165-173 | `X` | Remove selected file |

**WCAG:** 1.1.1 (Non-text Content), 4.1.2 (Name, Role, Value)

**Fix pattern:**

```tsx
// Before
<Button variant="ghost" size="icon" asChild>
  <Link href="/dashboard">
    <ArrowLeft className="h-4 w-4" />
  </Link>
</Button>

// After
<Button variant="ghost" size="icon" asChild>
  <Link href="/dashboard" aria-label="Back to dashboard">
    <ArrowLeft className="h-4 w-4" />
  </Link>
</Button>
```

Apply the same pattern to all 9 instances, providing a descriptive `aria-label` that conveys the action (e.g. "Back to team", "Team settings", "Open actions menu", "Remove member", "Cancel invite", "Remove file").

---

### 1.3 â€” Adaptable

#### HIGH-02: Rename dialog input has no associated label

`src/components/document-table.tsx` lines 234-240 â€” The `<Input>` inside the rename dialog has no `<Label>` or `aria-label`, making it invisible to screen readers.

**WCAG:** 1.3.1 (Info and Relationships), 4.1.2 (Name, Role, Value)

**Fix pattern:**

```tsx
// Before
<Input
  value={newName}
  onChange={(e) => setNewName(e.target.value)}
  onKeyDown={(e) => { if (e.key === "Enter") handleRename(); }}
  autoFocus
/>

// After
<div className="space-y-2">
  <Label htmlFor="rename-input">New name</Label>
  <Input
    id="rename-input"
    value={newName}
    onChange={(e) => setNewName(e.target.value)}
    onKeyDown={(e) => { if (e.key === "Enter") handleRename(); }}
    autoFocus
  />
</div>
```

---

#### HIGH-03: Hidden file inputs have no accessible label

Two hidden `<input type="file">` elements are triggered programmatically but have no label, `aria-label`, or `aria-labelledby`. Screen readers that encounter these (e.g. via forms mode) cannot identify them.

| # | File | Line(s) |
|---|------|---------|
| 1 | `src/app/teams/[teamId]/page.tsx` | 203-209 |
| 2 | `src/components/upload-dialog.tsx` | 147-153 |

**WCAG:** 1.3.1 (Info and Relationships), 4.1.2 (Name, Role, Value)

**Fix pattern:**

```tsx
// Before
<input
  ref={fileInputRef}
  type="file"
  className="hidden"
  onChange={handleFileSelect}
  disabled={isUploading}
/>

// After
<input
  ref={fileInputRef}
  type="file"
  className="hidden"
  onChange={handleFileSelect}
  disabled={isUploading}
  aria-label="Choose file to upload"
/>
```

---

### 1.4 â€” Distinguishable

#### MEDIUM-01: Potential contrast issue â€” `muted-foreground` on `muted` background

`src/app/globals.css` â€” `--muted-foreground: oklch(0.55 0 0)` (~`#787878`) on `--muted: oklch(0.1 0 0)` (~`#1a1a1a`) yields approximately 3.9:1 contrast ratio, below the 4.5:1 minimum for normal text (WCAG 1.4.3). This combination appears in skeleton loading states, secondary descriptions within muted containers, and placeholder-like text.

**WCAG:** 1.4.3 (Contrast â€” Minimum)

**Fix pattern:**

```css
/* Increase muted-foreground lightness to achieve >= 4.5:1 on muted bg */
--muted-foreground: oklch(0.63 0 0); /* â‰ˆ #949494, ~5.0:1 on #1a1a1a */
```

---

## Operable

### 2.1 â€” Keyboard Accessible

#### HIGH-04: No skip navigation link

`src/app/layout.tsx` â€” The root layout has no "Skip to main content" link. Keyboard users must tab through the entire navbar on every page load.

**WCAG:** 2.4.1 (Bypass Blocks)

**Fix pattern:**

```tsx
// In RootLayout, as the first child of <body>
<a
  href="#main-content"
  className="sr-only focus:not-sr-only focus:absolute focus:z-[100] focus:bg-background focus:px-4 focus:py-2 focus:text-foreground"
>
  Skip to main content
</a>
{/* ... */}
<main id="main-content" className="min-h-[calc(100vh-4rem)]">
  {children}
</main>
```

---

### 2.4 â€” Navigable

#### HIGH-05: Sub-pages lack unique `<title>` via Next.js metadata

Only the root layout exports `metadata.title` ("DocVault"). The following pages do not export their own `metadata` or `generateMetadata`, so every page shares the same title. Screen reader users and browser tab navigation cannot distinguish pages.

| Page file | Expected title |
|-----------|----------------|
| `src/app/dashboard/page.tsx` | "Dashboard â€” DocVault" |
| `src/app/documents/[documentId]/page.tsx` | "[Doc Name] â€” DocVault" |
| `src/app/teams/new/page.tsx` | "Create Team â€” DocVault" |
| `src/app/teams/[teamId]/page.tsx` | "[Team Name] â€” DocVault" |
| `src/app/teams/[teamId]/settings/page.tsx` | "Team Settings â€” DocVault" |
| `src/app/sign-in/[[...sign-in]]/page.tsx` | "Sign In â€” DocVault" |
| `src/app/sign-up/[[...sign-up]]/page.tsx` | "Sign Up â€” DocVault" |

**WCAG:** 2.4.2 (Page Titled)

**Fix pattern (static pages):**

```tsx
// src/app/dashboard/page.tsx
export const metadata = { title: "Dashboard â€” DocVault" };
```

**Fix pattern (dynamic pages using `generateMetadata`):**

```tsx
// src/app/teams/[teamId]/page.tsx
export async function generateMetadata({ params }) {
  return { title: `Team â€” DocVault` };
}
```

For the root layout, consider using `metadata.title.template`:

```tsx
export const metadata: Metadata = {
  title: { default: "DocVault", template: "%s â€” DocVault" },
};
```

---

## Understandable

### 3.3 â€” Input Assistance

#### MEDIUM-02: Required form fields not marked as required

Several form inputs are effectively required (submission is blocked without them) but lack `required` or `aria-required="true"`, so screen readers do not communicate the requirement.

| # | File | Line(s) | Field |
|---|------|---------|-------|
| 1 | `src/app/teams/new/page.tsx` | 71-78 | Team Name input |
| 2 | `src/app/teams/[teamId]/page.tsx` | 185-194 | Document Name input |
| 3 | `src/components/member-manager.tsx` | 145-152 | Email input |

**WCAG:** 3.3.2 (Labels or Instructions)

**Fix pattern:**

```tsx
<Input
  id="name"
  placeholder="e.g. Engineering, Marketing, Legal..."
  value={name}
  onChange={(e) => setName(e.target.value)}
  disabled={isCreating}
  required
  autoFocus
/>
```

---

#### MEDIUM-03: Loading/skeleton states not announced to screen readers

Multiple pages render skeleton shimmer `<div>` elements when data is loading. These are visually apparent but invisible to assistive technology â€” screen readers get no loading indicator.

| # | File | Line(s) |
|---|------|---------|
| 1 | `src/app/dashboard/page.tsx` | 31-37 |
| 2 | `src/app/documents/[documentId]/page.tsx` | 35-47 |
| 3 | `src/app/teams/[teamId]/page.tsx` | 132-145 |
| 4 | `src/app/teams/[teamId]/settings/page.tsx` | 39-50 |
| 5 | `src/components/version-history.tsx` | 83-92 |

**WCAG:** 4.1.3 (Status Messages)

**Fix pattern:**

```tsx
// Wrap skeleton loading states
<div role="status" aria-label="Loading content">
  <span className="sr-only">Loading...</span>
  {/* skeleton divs */}
</div>
```

---

## Robust

### 4.1 â€” Compatible

#### MEDIUM-04: Dialogs missing `DialogDescription`

Three dialogs use `DialogTitle` but omit `DialogDescription`. Radix UI emits a console warning, and screen readers lack context about the dialog purpose.

| # | File | Dialog purpose |
|---|------|----------------|
| 1 | `src/components/document-table.tsx` | Rename document |
| 2 | `src/app/teams/[teamId]/page.tsx` | Create new document |
| 3 | `src/components/upload-dialog.tsx` | Upload file/version |

**WCAG:** 4.1.2 (Name, Role, Value)

**Fix pattern:**

```tsx
<DialogHeader>
  <DialogTitle>Rename Document</DialogTitle>
  <DialogDescription>
    Enter a new name for this document.
  </DialogDescription>
</DialogHeader>
```

Or, if a visible description is unwanted, use a visually hidden one:

```tsx
<DialogDescription className="sr-only">
  Enter a new name for this document.
</DialogDescription>
```

---

## React / Next.js Specific

### LOW-01: Heading hierarchy skip on landing page

`src/app/page.tsx` â€” The heading structure jumps from `<h1>` (line 14) to `<h3>` (lines 36, 47, 53) with no `<h2>`. This breaks the document outline for screen reader heading navigation.

**WCAG:** 1.3.1 (Info and Relationships) â€” best practice

**Fix:** Change feature card headings to `<h2>` or introduce a section `<h2>` before the features grid.

---

### LOW-02: `AvatarImage` receives potentially undefined `alt`

`src/components/member-manager.tsx` line 196-198 and `src/components/version-history.tsx` line 116-119 â€” `alt={member.user?.name}` / `alt={version.uploader?.name}` can be `undefined` when user data is missing, resulting in no `alt` attribute at all.

**Fix:** Provide a fallback: `alt={member.user?.name ?? "User avatar"}`

---

### LOW-03: Empty table header cells lack screen reader context

`src/components/document-table.tsx` line 147 and `src/components/member-manager.tsx` lines 186, 293 â€” `<TableHead className="w-12" />` is used for action columns. While valid HTML, adding a visually hidden label improves clarity.

**Fix:**

```tsx
<TableHead className="w-12">
  <span className="sr-only">Actions</span>
</TableHead>
```

---

### LOW-04: No `<footer>` landmark region

`src/app/layout.tsx` â€” The layout defines `<header>` (via Navbar) and `<main>` but no `<footer>`. Adding a footer landmark improves overall page structure for landmark navigation.

---

## Summary

| Severity | Count |
|----------|-------|
| HIGH | 5 |
| MEDIUM | 4 |
| LOW | 4 |

```
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ACCESSIBILITY AUDIT â€” src/ 2026-02-19T12:00
   WCAG 2.1 AA Compliance
   ğŸ”´ Violations: 5  ğŸŸ¡ Issues: 4  ğŸ”µ Enhancements: 4
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
```

### Severity Key

- **HIGH** â€” Blocks users with disabilities; WCAG A/AA violation
- **MEDIUM** â€” Degrades experience significantly
- **LOW** â€” Enhancement / best practice
